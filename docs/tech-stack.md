# Технический стек

Документ фиксирует выбранные технологии фронтенда, бэкенда и сопутствующих инструментов, обосновывает их использование и задаёт политику обновлений.

## Фронтенд
- **React 18.2.0** — де-факто стандарт для современных SPA, хорошо поддерживает компонентный подход и экосистему библиотек. Совместим с выбранной сборкой Vite и типизацией TypeScript.
- **TypeScript 5.2.x** — статическая типизация для снижения количества рантайм-ошибок и лучшей поддержки IDE. Версия соответствует требованиям React 18 и Vite 5.
- **Vite 5.0.x** — быстрая дев-сборка и оптимизированный продакшен-бандл благодаря esbuild/rollup. Позволяет быстро запускать превью и интегрируется с React через `@vitejs/plugin-react`.
- **Lucide React 0.460.x** — иконки с открытой лицензией, лёгко кастомизируются и не требуют тяжелых зависимостей.

## Бэкенд
- **FastAPI 0.111.x** — асинхронный Python-фреймворк с автогенерацией OpenAPI-спеки и валидацией запросов, что ускоряет разработку API.
- **Uvicorn 0.30.x** — ASGI-сервер, оптимизированный под асинхронные приложения FastAPI.
- **Pydantic 2.7.x** — строгая валидация данных и сериализация, тесно интегрирована с FastAPI.
- **SQLAlchemy 2.0.x** — ORM и SQL toolkit, обеспечивающий типобезопасные запросы и удобную работу с разными СУБД.
- **Alembic 1.13.x** — миграции схемы БД, интегрируются с SQLAlchemy для повторяемых деплоев.
- **python-jose 3.3.x** + **passlib[bcrypt] 1.7.x** — JWT-авторизация и безопасное хеширование паролей.
- **APScheduler 3.10.x** — планировщик периодических задач (генерация отчётов, очистка временных данных и т.п.).
- **Pandas 2.2.x** + **OpenPyXL 3.1.x** — обработка табличных данных и экспорт в Excel.

## База данных
- **SQLite 3** (по умолчанию) — простая embedded-БД для локальной разработки без внешних зависимостей. Файл `data.db` можно быстро пересоздать во время итераций.
- **PostgreSQL 15+ (целевой продакшен)** — совместима с SQLAlchemy и Alembic, поддерживает транзакции, JSONB и расширения для масштабирования. Миграции остаются одинаковыми для dev/stage/prod.

## Инструменты и окружение
- **Node.js 20 LTS** — стабильная платформа для Vite/React-сборки с долгосрочной поддержкой.
- **Python 3.11** — оптимальный баланс производительности и совместимости с текущими библиотеками FastAPI/SQLAlchemy.
- **Git + pre-commit (планируется)** — единый стиль кода и проверок перед пушем; набор хуков уточняется вместе с линтерами.

## Политика обновлений
- **Фиксация версий**: зависимости фронтенда зафиксированы в `package-lock.json`, бэкенда — в `backend/requirements.txt`. Все новые пакеты пингуются по мажорной версии минимум.
- **Безопасность**: раз в неделю проверяем `npm audit` и `pip list --outdated` на наличие критичных уязвимостей; патчи безопасности применяются вне очереди с минорным релизом.
- **Плановые обновления**: ежеквартально обновляем минорные версии (React, FastAPI, SQLAlchemy, Vite, TypeScript) после прохождения регрессионных тестов и миграций. Мажорные обновления оцениваются отдельно и проводятся не чаще одного раза в полугодие с отдельным тестовым стендом.
- **Совместимость БД**: миграции Alembic проверяются на SQLite (dev) и PostgreSQL (stage) перед релизом; откаты описываются в миграционных скриптах.
- **Документация**: изменения в стеке фиксируются в этом файле и упоминаются в релизных заметках.
