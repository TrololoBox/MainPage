# Матрица ролей и прав

| Эндпойнт | Администратор | Учитель | Родитель | Примечание |
| --- | --- | --- | --- | --- |
| `POST /admin/users` | ✅ | ❌ | ❌ | Создание учетных записей и назначение ролей |
| `POST /admin/students/import` | ✅ | ❌ | ❌ | Импорт учащихся из файлов Excel/CSV |
| `POST /teacher/excursions` | ✅ | ✅ | ❌ | Создание экскурсий, автор сохраняется как `created_by` |
| `GET /teacher/excursions` | ✅ | ✅ | ❌ | Просмотр списка экскурсий |
| `GET /teacher/excursions/{id}` | ✅ | ✅ | ❌ | Просмотр деталей конкретной экскурсии |
| `GET /parent/signatures/{excursion_id}/{student_id}` | ✅ | ❌ | ✅ | Просмотр подписей для учащегося и экскурсии |
| `POST /parent/sign/{excursion_id}/{student_id}` | ✅ | ❌ | ✅ | Подписание согласия и загрузка PDF |

Роли проверяются через JWT-токен в заголовке `Authorization: Bearer <token>`. В токене хранится идентификатор пользователя, который извлекается и используется для поиска роли в базе данных. При отсутствии токена, недействительном токене или отсутствии необходимой роли возвращается ошибка 401/403.
